'use strict';

(function (root) {

  // svg for all
  svg4everybody();

  function removeHash() {
    location.hash = '';
    history.replaceState(null, null, ' ');
    $(window).scrollTop(scroll);
  }

  function hashChange() {
    var hash = location.hash;

    if (hash) {
      $(hash).find('.offer__more').trigger('click');
    } else {
      $('.featherlight-close').trigger('click');
    }
  }

  var scroll = 0;

  $('.offer__more').featherlight({
    beforeOpen: function beforeOpen() {
      scroll = $(window).scrollTop();
    },
    beforeClose: removeHash
  });

  $('.slider').owlCarousel({
    items: 1
  });

  // Gallery-Page
  $('.g-block__list').each(function (i, gallery) {
    var items = 1;

    if ($(gallery).children().length > items) {
      $(gallery).addClass('owl-carousel');
      $(gallery).owlCarousel({
        items: 1,
        loop: true,
        nav: true,
        dots: false
      });
    }
  });

  // Gallery
  setTimeout(function () {
    $('.gallery__item').on('click', function () {
      var img = $(this).find('img').clone();

      $('.gallery__image').attr('data-featherlight', $(img).attr('src')).html(img);
    });

    hashChange();
  }, 100);

  // Sections
  $('.offer__more').on('click', function () {
    var id = $(this).closest('.section').attr('id');
    location.hash = '#' + id;
  });

  window.onhashchange = hashChange;
})(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJyb290Iiwic3ZnNGV2ZXJ5Ym9keSIsInJlbW92ZUhhc2giLCJsb2NhdGlvbiIsImhhc2giLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwiJCIsIndpbmRvdyIsInNjcm9sbFRvcCIsInNjcm9sbCIsImhhc2hDaGFuZ2UiLCJmaW5kIiwidHJpZ2dlciIsImZlYXRoZXJsaWdodCIsImJlZm9yZU9wZW4iLCJiZWZvcmVDbG9zZSIsIm93bENhcm91c2VsIiwiaXRlbXMiLCJlYWNoIiwiaSIsImdhbGxlcnkiLCJjaGlsZHJlbiIsImxlbmd0aCIsImFkZENsYXNzIiwibG9vcCIsIm5hdiIsImRvdHMiLCJzZXRUaW1lb3V0Iiwib24iLCJpbWciLCJjbG9uZSIsImF0dHIiLCJodG1sIiwiaWQiLCJjbG9zZXN0Iiwib25oYXNoY2hhbmdlIl0sIm1hcHBpbmdzIjoiOztBQUFBLENBQUMsVUFBU0EsSUFBVCxFQUFlOztBQUVkO0FBQ0FDOztBQUVBLFdBQVNDLFVBQVQsR0FBdUI7QUFDckJDLGFBQVNDLElBQVQsR0FBZ0IsRUFBaEI7QUFDQUMsWUFBUUMsWUFBUixDQUFxQixJQUFyQixFQUEyQixJQUEzQixFQUFpQyxHQUFqQztBQUNBQyxNQUFFQyxNQUFGLEVBQVVDLFNBQVYsQ0FBb0JDLE1BQXBCO0FBQ0Q7O0FBRUQsV0FBU0MsVUFBVCxHQUFzQjtBQUNwQixRQUFJUCxPQUFPRCxTQUFTQyxJQUFwQjs7QUFFQSxRQUFJQSxJQUFKLEVBQVU7QUFDUkcsUUFBRUgsSUFBRixFQUFRUSxJQUFSLENBQWEsY0FBYixFQUE2QkMsT0FBN0IsQ0FBcUMsT0FBckM7QUFDRCxLQUZELE1BRU87QUFDTE4sUUFBRSxxQkFBRixFQUF5Qk0sT0FBekIsQ0FBaUMsT0FBakM7QUFDRDtBQUNGOztBQUVELE1BQUlILFNBQVMsQ0FBYjs7QUFFQUgsSUFBRSxjQUFGLEVBQWtCTyxZQUFsQixDQUErQjtBQUM3QkMsZ0JBQVksc0JBQVc7QUFDckJMLGVBQVNILEVBQUVDLE1BQUYsRUFBVUMsU0FBVixFQUFUO0FBQ0QsS0FINEI7QUFJN0JPLGlCQUFhZDtBQUpnQixHQUEvQjs7QUFPQUssSUFBRSxTQUFGLEVBQWFVLFdBQWIsQ0FBeUI7QUFDdkJDLFdBQU87QUFEZ0IsR0FBekI7O0FBSUE7QUFDQVgsSUFBRSxnQkFBRixFQUFvQlksSUFBcEIsQ0FBeUIsVUFBU0MsQ0FBVCxFQUFZQyxPQUFaLEVBQXFCO0FBQzVDLFFBQUlILFFBQVEsQ0FBWjs7QUFFQSxRQUFJWCxFQUFFYyxPQUFGLEVBQVdDLFFBQVgsR0FBc0JDLE1BQXRCLEdBQStCTCxLQUFuQyxFQUEwQztBQUN4Q1gsUUFBRWMsT0FBRixFQUFXRyxRQUFYLENBQW9CLGNBQXBCO0FBQ0FqQixRQUFFYyxPQUFGLEVBQVdKLFdBQVgsQ0FBdUI7QUFDckJDLGVBQU8sQ0FEYztBQUVyQk8sY0FBTSxJQUZlO0FBR3JCQyxhQUFLLElBSGdCO0FBSXJCQyxjQUFNO0FBSmUsT0FBdkI7QUFNRDtBQUNGLEdBWkQ7O0FBY0E7QUFDQUMsYUFBVyxZQUFXO0FBQ3BCckIsTUFBRSxnQkFBRixFQUFvQnNCLEVBQXBCLENBQXVCLE9BQXZCLEVBQWdDLFlBQVc7QUFDekMsVUFBSUMsTUFBTXZCLEVBQUUsSUFBRixFQUFRSyxJQUFSLENBQWEsS0FBYixFQUFvQm1CLEtBQXBCLEVBQVY7O0FBRUF4QixRQUFFLGlCQUFGLEVBQXFCeUIsSUFBckIsQ0FBMEIsbUJBQTFCLEVBQStDekIsRUFBRXVCLEdBQUYsRUFBT0UsSUFBUCxDQUFZLEtBQVosQ0FBL0MsRUFBbUVDLElBQW5FLENBQXdFSCxHQUF4RTtBQUNELEtBSkQ7O0FBTUFuQjtBQUNELEdBUkQsRUFRRyxHQVJIOztBQVVBO0FBQ0FKLElBQUUsY0FBRixFQUFrQnNCLEVBQWxCLENBQXFCLE9BQXJCLEVBQThCLFlBQVc7QUFDdkMsUUFBSUssS0FBSzNCLEVBQUUsSUFBRixFQUFRNEIsT0FBUixDQUFnQixVQUFoQixFQUE0QkgsSUFBNUIsQ0FBaUMsSUFBakMsQ0FBVDtBQUNBN0IsYUFBU0MsSUFBVCxHQUFnQixNQUFJOEIsRUFBcEI7QUFDRCxHQUhEOztBQUtBMUIsU0FBTzRCLFlBQVAsR0FBc0J6QixVQUF0QjtBQUlELENBdEVELEVBc0VHSCxNQXRFSCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24ocm9vdCkge1xuXG4gIC8vIHN2ZyBmb3IgYWxsXG4gIHN2ZzRldmVyeWJvZHkoKTtcblxuICBmdW5jdGlvbiByZW1vdmVIYXNoICgpIHtcbiAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgJyAnKTtcbiAgICAkKHdpbmRvdykuc2Nyb2xsVG9wKHNjcm9sbClcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc2hDaGFuZ2UoKSB7XG4gICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuXG4gICAgaWYgKGhhc2gpIHtcbiAgICAgICQoaGFzaCkuZmluZCgnLm9mZmVyX19tb3JlJykudHJpZ2dlcignY2xpY2snKVxuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuZmVhdGhlcmxpZ2h0LWNsb3NlJykudHJpZ2dlcignY2xpY2snKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc2Nyb2xsID0gMDtcblxuICAkKCcub2ZmZXJfX21vcmUnKS5mZWF0aGVybGlnaHQoe1xuICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgc2Nyb2xsID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgIH0sXG4gICAgYmVmb3JlQ2xvc2U6IHJlbW92ZUhhc2hcbiAgfSlcblxuICAkKCcuc2xpZGVyJykub3dsQ2Fyb3VzZWwoe1xuICAgIGl0ZW1zOiAxXG4gIH0pXG5cbiAgLy8gR2FsbGVyeS1QYWdlXG4gICQoJy5nLWJsb2NrX19saXN0JykuZWFjaChmdW5jdGlvbihpLCBnYWxsZXJ5KSB7XG4gICAgdmFyIGl0ZW1zID0gMTtcblxuICAgIGlmICgkKGdhbGxlcnkpLmNoaWxkcmVuKCkubGVuZ3RoID4gaXRlbXMpIHtcbiAgICAgICQoZ2FsbGVyeSkuYWRkQ2xhc3MoJ293bC1jYXJvdXNlbCcpO1xuICAgICAgJChnYWxsZXJ5KS5vd2xDYXJvdXNlbCh7XG4gICAgICAgIGl0ZW1zOiAxLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICBuYXY6IHRydWUsXG4gICAgICAgIGRvdHM6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICAvLyBHYWxsZXJ5XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgJCgnLmdhbGxlcnlfX2l0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbWcgPSAkKHRoaXMpLmZpbmQoJ2ltZycpLmNsb25lKCk7XG5cbiAgICAgICQoJy5nYWxsZXJ5X19pbWFnZScpLmF0dHIoJ2RhdGEtZmVhdGhlcmxpZ2h0JywgJChpbWcpLmF0dHIoJ3NyYycpKS5odG1sKGltZyk7XG4gICAgfSk7XG5cbiAgICBoYXNoQ2hhbmdlKCk7XG4gIH0sIDEwMClcblxuICAvLyBTZWN0aW9uc1xuICAkKCcub2ZmZXJfX21vcmUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5zZWN0aW9uJykuYXR0cignaWQnKTtcbiAgICBsb2NhdGlvbi5oYXNoID0gJyMnK2lkO1xuICB9KVxuXG4gIHdpbmRvdy5vbmhhc2hjaGFuZ2UgPSBoYXNoQ2hhbmdlXG5cblxuXG59KSh3aW5kb3cpO1xuIl19
